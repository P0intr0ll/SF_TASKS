package com.pointroll.data{	import PointRollAPI_AS3.data.AdControl;	import PointRollAPI_AS3.events.data.AdControlEvent;	import PointRollAPI_AS3.PointRoll;	import flash.display.Sprite;	import flash.display.MovieClip;	import flash.events.Event;		public class JohnDeereAC extends Sprite {		private var _ac:AdControl;		private var _pr:PointRoll;				private var d:Object;		public function JohnDeereAC(r:MovieClip,p:PointRoll) {			_ac=new AdControl(r);			_pr = p;						if (r.loaderInfo.url.indexOf("file")==0) {				_ac.interfaceID= "19d86e02-68b5-4915-9207-6968eceeb3d5";//"8084fde0-6334-4735-a5e1-f44ee9ec4fd7";				_ac.localTestFile = "JohnDeere.xml";			}			else{				_ac.interfaceID=_pr.parameters.acid;			}			_ac.clearSTSonLoad = false;			_ac.addEventListener(AdControlEvent.LOAD_COMPLETE, onACLoaded, false, 0, true);			_ac.addEventListener(AdControlEvent.LOAD_FAIL, onACFail);					}		public function loadInACData():void{			_ac.load();		}		 		/*<prdata>		  <dealer logo="BeardLogo.gif" name="Beard Equipment Company"><![CDATA[179019_US PENSACOLA]]></dealer>		*/		 		private function onACLoaded(e:AdControlEvent):void {								trace("************** _pr.parameters.acid: " + _pr.parameters.acid);			trace("************** _ac.interfaceID: " + _ac.interfaceID);					var xmlData:XML=_ac.getXMLData();			trace("onACLoaded: \r" + _ac.getXMLData() );						d = new Object();			d.logo = xmlData.dealer.attribute("logo");			d.name = xmlData.dealer.attribute("name");			d.dealer = xmlData.Dealer;						if(xmlData.dealer.attribute("name") != "" && xmlData.dealer !="NO DEALER"){					trace("-----------sendLogoLoadedEvent " + d.dealer);				dispatchEvent(new Event("onLogoLoaded"));			}			else{				trace("-----------sendNoLogoLoadedEvent");				dispatchEvent(new Event("onNoLogoLoaded"));			}		}		function onACFail(e:AdControlEvent):void{   			 trace("The AC XML has failed to load.");			 dispatchEvent(new Event("onNoLogoLoaded"));		}		public function getDealerData():Object{			return d;		}	}}